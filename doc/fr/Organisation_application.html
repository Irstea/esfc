<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="fr-fr">
  <head>
    <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
    <title>Organisation de l'application</title>
    <meta content="Eric Quinton" name="author">
    <link rel="stylesheet" href="../../display/CSS/blue.css" type="text/css">
  </head>
  <body>
    <h1>Organisation de l'application</h1>
    <h2>Schéma général de fonctionnement</h2>
    <p>L'application est bâtie selon un modèle MVC (model - vue - controler). Ce
      schéma récapitule l'ensemble des opérations réalisées à chaque appel d'un
      module :</p>
    <img alt="Schéma général de traitement d'un module" src="schema_general.png">
    <h2>Dossiers utilisés par prototypePHP</h2>
    <h3>display</h3>
    <p>Contient tous les dossiers utilisés pour l'affichage :</p>
    <ul>
      <li>CSS : les feuilles de style</li>
      <li>images : les images</li>
      <li>javascript : tout le code javascript, et notamment :</li>
      <ul>
        <li>fonctions.js : le code spécifique utilisé par prototypephp ;</li>
        <li>calendar : un calendrier accessible via un bouton ;</li>
        <li>datatables : un module jquery utilisé pour afficher les tableaux ;</li>
        <li>jquery-validation : un module permettant de réaliser des contrôles
          de saisie avant envoi du formulaire (non implémenté pour le moment)</li>
      </ul>
      <li>templates : les modèles de document Smarty ;</li>
      <li>templates_c : le dossier de travail de Smarty.<br>
      </li>
    </ul>
    <h3>doc</h3>
    Documentation de l'application, avec un sous-dossier par langue. La page
    index.php gère les accès à la documentation.<br>
    <h3>Framework</h3>
    'L'intelligence" de prototypePHP. Il contient, entre autres :<br>
    <ul>
      <li>controller.php : le contrôleur de l'application, appelé
        systématiquement, et qui gère les droits d'accès, l'appel aux modules,
        la connexion aux bases de données, etc.</li>
      <li>common.inc.php : toutes les inclusions de bibliothèques nécessaires ;</li>
      <li>fonctions.php : les fonctions appelées notamment pour gérer les
        lectures/écritures en bases de données ;</li>
      <li>identification : les fichiers utilisés pour gérer l'identification et
        la gestion des droits ;</li>
      <li>import : une classe permettant de réaliser des imports et des exports
        au format csv ;</li>
      <li>ldap : accès aux annuaires ldap ;</li>
      <li>navigation : génération du menu à partir de la description réalisée
        dans le fichier param/actions.xml</li>
    </ul>
    <h3>install</h3>
    Documentation sur l'installation de l'application, scripts de génération de
    la base de données.<br>
    <h3>locales</h3>
    dossier contenant les fichiers de langue. Un fichier par langue supportée.<br>
    <h3>modules</h3>
    C'est LE dossier privilégié pour mettre le code de votre application !<br>
    <h3>param</h3>
    Contient tous les fichiers de paramètres et le fichier permettant de décrire
    les modules et leur enchaînement.<br>
    <h3>plugins</h3>
    Contient tous les plugins "externe" utilisés dans PrototypePHP : adodb,
    esup-phpcas, objetBDD, phpgacl, smarty...<br>
    <h3>test</h3>
    Dossier destiné aux développeurs, quand il faut tester quelques aspects de
    l'application sans toucher aux autres modules. Pensez à ne pas laisser
    dedans du code qui pourrait présenter un danger en production !
  </body>
</html>
